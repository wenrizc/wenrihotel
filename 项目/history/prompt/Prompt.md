
### **第一部分：人物知识库相关Prompt**

这部分包含三个Prompt：一个用于预检查，一个用于生成人物详情，一个用于生成人物关系。

#### **Prompt 1：人物存在性预检查**

在对一个新人物进行任何昂贵的AI操作之前，先用一个轻量级的请求判断其在历史上是否为知名人物。

**Prompt 详情**

```
你是一个历史知识专家。
请判断历史上是否存在一个以“{name}”闻名的重要人物。
你的回答必须遵循以下JSON格式，不要添加任何额外的解释：
{
  "exists": <true_or_false>,
}
```


#### **Prompt 2：人物详细信息生成 (AI Prompt #1)**

用于生成存储在PostgreSQL `persons` 表 `details` 字段的JSONB数据。

**Prompt 详情**

```
你是一位严谨的传记作家和历史学家。
请为人物“{name}”生成一份详细的个人档案。
你的回答必须严格遵循以下JSON格式，确保内容准确、结构清晰，所有值都应为字符串。如果某项信息未知，请使用"不详"作为值。

{
  "birth_death_dates": "（例如：公元前257年 - 公元前204年）",
  "native_place": "（例如：赵国邯郸）",
  "dynasty_or_era": "（例如：战国末期至秦朝）",
  "biography_summary": "（一段约200字的生平简介，概述其主要经历和历史地位）",
  "major_achievements": [
    "（主要成就或关键事件1）",
    "（主要成就或关键事件2）",
    "（...更多成就...）"
  ],
  "historical_evaluation": "（简要的历史评价，包括正面和负面的）"
}
```

#### **Prompt 3：人物关系网络生成 (AI Prompt #2)**

用于生成Neo4j中的关系数据。

**Prompt 详情**

```
你是一位专注于人物关系分析的历史学家。
你的任务是找出与人物“{name}”有直接关系的主要人物，并明确他们之间的关系。
请只使用以下预定义的关系类型：
- "IS_KIN_OF": 血缘关系 (如父子、兄弟)
- "HAS_SUBORDINATE_OR_SUPERIOR": 从属关系 (如君臣、上下级)
- "IS_MENTOR_OF": 师承关系 (如师徒、老师)
- "IS_FRIEND_OF": 朋友或盟友关系
- "IS_ENEMY_OF": 敌对或竞争关系

返回一个JSON数组，每个对象代表一个关系。对象结构如下，不要包含任何与“{name}”无关的人物之间的关系。

[
  {
    "related_person_name": "（相关人物的姓名）",
    "relationship_type": "（从上述五种类型中选择一个）",
    "brief_context": "（用一句话简述此关系的背景，例如：嬴政是李信的君主）"
  }
]
```

---

### **第二部分：多维历史时间轴相关Prompt**

此Prompt用于一次性生成整个事件的结构化数据，完美对应您设计的三张表。

**Prompt 详情**

```
你是一位资深的历史学家和叙事设计师。
你的任务是为历史事件“{eventName}”创建一个多维度的详细时间轴。请将事件分解为几个不同的视角或阵营（轨道），并为每个轨道提供关键的子事件，但如果事件只有一个单一的维度，也可以只返回一个视角
你的回答必须严格遵循以下的JSON结构，确保信息完整且格式正确。

{
  "event_name": "{eventName}",
  "summary": "（此处生成一段关于“{eventName}”事件的整体摘要信息，约200字）",
  "tracks": [
    {
      "track_name": "（轨道1的名称，例如：东晋朝廷）",
      "events": [
        {
          "event_date": "（事件发生的日期，格式灵活，如 '383年8月' 或 '383年春'）",
          "title": "（子事件的简短标题，例如：谢安力主抗秦）",
          "description": "（对该子事件的详细文字描述）"
        },
        {
          "event_date": "...",
          "title": "...",
          "description": "..."
        }
      ]
    },
    {
      "track_name": "（轨道2的名称，例如：前秦军队）",
      "events": [
        {
          "event_date": "（例如：383年11月）",
          "title": "（例如：苻坚主力抵达淝水南岸）",
          "description": "（对该子事件的详细文字描述）"
        },
        {
          "event_date": "...",
          "title": "...",
          "description": "..."
        }
      ]
    }
  ]
}
```
