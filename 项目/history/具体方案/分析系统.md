
### **智能问答系统处理方案**

本方案旨在根据问题的类型（史实搜寻类 vs. 分析类）采用不同的处理路径，以实现高效、准确的答案生成。

#### **第一阶段：问题预处理与分类**

此阶段是整个流程的入口和决策点。

1. **输入接收：**
    
    - 接收用户提出的原始问题。
        
2. **意图识别与分类：**
    
    - **目标：** 判断问题是“史实搜寻类”还是“分析类”。
        
    - **方法：**
        
        - 使用一个轻量级的语言模型或基于规则的分类器。
            
        - **史实搜寻类特征：** 问题通常以“谁”、“什么”、“何时”、“何地”、“列出”、“定义”等关键词开头，寻求客观、单一的事实信息。例如：“第二次世界大战是哪一年爆发的？”
            
        - **分析类特征：** 问题通常包含“为什么”、“如何”、“评价”、“分析...的影响”、“比较...的异同”、“假如...会怎样”等关键词，要求对信息进行深加工、逻辑推理、观点阐述和综合评估。例如：“分析古登堡印刷术对欧洲文艺复兴的深远影响。”
            
    - **输出：**
        
        - 为问题打上明确的标签：“史实搜寻”或“分析”。
            
        - 将原始问题和分类标签传递给下一阶段。
            

---

#### **第二阶段：双路径信息获取**

根据第一阶段的分类标签，系统将进入两条并行的处理路径之一。

##### **路径A：史实搜寻类问题处理流程**

此路径的核心是快速、准确地从可信来源中定位事实。

1. **并行检索启动：**
    
    - **向量检索：** 将用户的原始问题转换为向量，在内部的、预先建立好的知识库（如：历史百科、学术文章摘要、事实数据库）中进行相似性搜索。此举旨在快速找到语义上最相关的、高可信度的信息片段。
        
    - **网络搜索：** 同时，提取用户问题中的核心关键词，调用外部搜索引擎API（如Google Search）进行网络查询。此举旨在获取最新、最广泛的公共信息作为补充。
        
2. **信息整合与提炼：**
    
    - **汇集：** 收集来自向量检索和网络搜索的所有原始资料，传给大模型进行提问
        

##### **路径B：分析类问题处理流程 (ReAct架构)**

此路径的核心是模仿人类专家的思考方式：分解问题、针对性研究、综合分析。

1. **问题分解 (Reason)：**
    
    - **动作：** 调用一次LLM。
        
    - **指令：** “请将以下这个复杂的分析类问题，拆解成3-5个不同维度上的子问题。”
        
    - **示例：**
        
        - **原问题：** “分析古登堡印刷术对欧洲文艺复兴的深远影响。”
            
        - **分解出的子问题：**
            
            1. 印刷术出现前，欧洲的知识传播方式和局限性是什么？
                
            2. 古登堡印刷术在技术上实现了哪些突破，如何提高了信息复制的效率和降低了成本？
                
            3. 哪些重要的文艺复兴时期的思想、文本是通过印刷术被广泛传播的？
                
            4. 印刷术对当时欧洲的识字率、教育和社会结构造成了怎样的影响？
                
            5. 总结印刷术是如何加速和深化文艺复兴进程的。
                
2. **迭代式信息搜集循环 (Act & Observe)：**
    
    - 系统进入一个循环，逐一处理每个子问题。
        
    - **对于每一个子问题：**
        
        - **执行 (Act)：** 将该子问题作为新的查询，同时进行内部知识库的“向量检索”和外部“网络搜索”。
            
        - **观察 (Observe)：** 收集并初步处理检索到的信息。
            
        - **思考与评估 (Reason)：** 判断当前为这个子问题收集到的资料是否足够、相关且来源可靠。如果信息不足或有矛盾，系统可以决定调整关键词，针对该子问题进行新一轮的补充搜索。
            
    - 这个循环会一直持续，直到系统判断已经为所有子问题都收集到了充分的资料。
        
3. **全局资料充足性判断 (Final Reason)：**
    
    - **动作：** 当所有子问题的资料搜集循环都完成后，系统进行一次最终评估。
        
    - **判断标准：** “综合当前为所有子问题收集到的全部资料，是否足以支撑对原始分析类问题的全面、深入、有逻辑的回答？”
        
    - **决策：**
        
        - 如果“是”，则进入下一步。
            
        - 如果“否”，则识别出信息最薄弱的环节，返回步骤2，进行一轮针对性的补充搜集。
            
4. **构建“分析框架”：**
    
    - 将所有子问题的答案和相关资料，按照分解时的逻辑顺序进行组织和整理，形成一个结构化、多维度的“分析框架”。这个框架不仅仅是资料的堆砌，而是已经带有逻辑关系的论据集合。
        

---

#### **第三阶段：答案生成与交付**

这是两条路径最终汇合的阶段。

1. **调用LLM生成最终答案：**
    
    - **输入：**
        
        - **上下文 (Context)：**
            
            - 对于史实搜寻类问题，输入是第二阶段路径A生成的“资料摘要”。
                
            - 对于分析类问题，输入是第二阶段路径B构建的“分析框架”。
                
        - **指令 (Instruction)：**
            
            - 一个精心设计的Prompt，明确要求LLM：“请严格依据下面提供的资料，并且仅使用这些资料，来回答用户的原始问题。要求答案逻辑清晰、语言流畅、忠于原文。对于分析类问题，请确保论证充分，结构完整。”
                
        - **用户的原始问题。**
            
    - **目的：** 通过“限定资料范围”的指令，最大限度地减少LLM出现事实错误或“幻觉”的风险，确保其角色是“整合与表述”而非“创造”。
        
        
    - **交付：** 将经过处理和审核的最终答案呈现给用户。
        
