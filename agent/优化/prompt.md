
请结合当前项目代码，详细分析项目中在Agent和RAG方面应用的优化方案。我希望了解以下几个核心问题：

1. **大模型成本和调用优化**：采取了哪些具体策略来优化和降低大模型（LLM）的调用成本？采取了哪些策略提高大模型返回速度，改善用户感知？
    
2. **RAG效果加强**：为了提升RAG检索和生成的准确性与真实性，应用了哪些优化技术？具体可以从以下几个方面展开：
    
    - **数据处理与索引**：在文档切分、清洗、构建索引等方面有什么特别的策略？
        
    - **检索策略**：使用的是什么检索方法？（例如，向量检索、关键词检索、混合搜索、还是更复杂的查询重写、重排（rerank）等）
        
    - **生成环节**：如何将检索到的上下文更有效地融入到最终的答案生成中，以减少“幻觉”？
        
3. **Agent与业务结合**：Agent是如何与核心业务流程深度结合的？
    
    - **任务规划与执行**：Agent使用的是什么核心框架（如ReAct、Plan-and-Execute或其他变种）？是如何解决该框架的常见问题（如ReAct的串行调用慢、Plan-and-Execute的规划不准）？
        
    - **多意图处理**：当用户输入包含多个业务意图时，Agent是如何识别、排序并执行的？
        
    - **工具使用**：是如何定义和使用工具的？
        
4. **RAG效果评估**：建立了一套什么样的评估体系来量化RAG的效果？评估指标具体包括哪些（如答案相关性、准确性、召回率等）？
    
5. **Agent性能优化**：为了提升Agent的反应速度（降低延迟）、任务成功率和稳定性，落地了哪些具体的工程化或算法优化方案？例如，是否实现了并行工具调用、增强的Replan机制、以及针对模型输出格式错误、调用失败、无限循环等问题的异常处理和兜底策略？是否实现类似的其他功能？